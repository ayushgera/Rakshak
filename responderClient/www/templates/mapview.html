<!-- List of Nearby Incidents -->
<ion-view view-title="Rakshak">
  <ion-content>
    <!-- Map -->
    <div class="alert-wrapper">
        <div class="search-bar">
          <div class="bar bar-header item-input-inset">
            <label class="item-input-wrapper">
              <i class="icon ion-ios-search placeholder-icon"></i>
              <input type="search" placeholder="Search">
            </label>
            <div class="search-cancel">
            <i class="ion-close-circled"></i>
            </div>
          </div>
        </div>
        <!-- Google Map -->
        <div class="map-container">
        <ui-gmap-google-map center='map.center' zoom='map.zoom' draggable="true" options="map.options">
            <ui-gmap-markers models="markerModel" fit="true" coords="'self'" icon="'icon'">
            </ui-gmap-markers>
        </ui-gmap-google-map>
        </div>
        <div class="alerts-list">
          <div class="card">
             <div class="item item-avatar item-text-wrap" ng-show="alertCards.length>0" ng-repeat="alertCard in alertCards">
                <img src="img/Help.png">
                <h2>{{alertCard.title}}</h2>
                <p>{{alertCard.text}}</p>
                <button class="button button-positive" ng-click='respondToServer(alertCard.alerterId)'>Respond</button>
             </div>
             <div class="item item-avatar item-text-wrap" ng-show="alertCards.length==0">
                <img src="img/Help.png">
                <h2>No Alerts Nearby!</h2>
             </div>
        </div>
    </div>
  </ion-content>
</ion-view>

<script id = "pleaseRespond.html" type = "text/ng-template">
   <ion-modal-view>
      <ion-header-bar>
         <h1 class = "title">Help Needed!</h1>
      </ion-header-bar>
    
      <ion-content>
        <p>
            Your help is needed. Please respond if available.
        </p>
         <button class = "button icon icon-left ion-ios-close-outline"
            ng-click = "closeModal()">OK</button>
      </ion-content>
   </ion-modal-view>
</script>